MONGODB_URI=
MONGODB_DB_NAME=zygotrix
MONGODB_TRAITS_COLLECTION=traits
MONGODB_USERS_COLLECTION=users
MONGODB_PENDING_SIGNUPS_COLLECTION=pending_signups
AUTH_SECRET_KEY=change-me
AUTH_TOKEN_TTL_MINUTES=60
AUTH_JWT_ALGORITHM=HS256
RESEND_API_KEY=
RESEND_FROM_EMAIL=onboarding@resend.dev  # replace once your domain is verified
SIGNUP_OTP_TTL_MINUTES=10

# Super Admin Configuration
# Set this to the email address of the super admin user
# When a user registers with this email, they will automatically be assigned the super_admin role
SUPER_ADMIN_EMAIL=

# Twilio WhatsApp Notification Configuration
# Get these from your Twilio Console (https://console.twilio.com)
TWILIO_ACCOUNT_SID=
TWILIO_AUTH_TOKEN=
# Your Twilio phone number (for WhatsApp sandbox: +14155238886)
TWILIO_WHATSAPP_FROM=+14155238886
# Admin's WhatsApp number to receive new user notifications (include country code)
ADMIN_WHATSAPP_TO=+1234567890

# AI Chatbot Configuration
# The name of the AI chatbot assistant used in prompts and responses
ZYGOTRIX_BOT_NAME=Zigi

# Environment Configuration
# Set to "Development" for local dev, "Production" for production
BACKEND_ENV=Development
# Frontend URL for generating links in chatbot responses
# Development: http://localhost:5173
# Production: https://your-domain.com
FRONTEND_URL=http://localhost:5173

# ==================== INTELLIGENT ROUTING CONFIGURATION ====================
# Enable intelligent query routing to optimize costs and performance (true/false)
# When enabled, queries are classified and routed to appropriate data sources:
# - CONVERSATIONAL: No data sources (fastest, cheapest)
# - KNOWLEDGE: Pinecone RAG only (relevant context)
# - GENETICS_TOOLS: MCP tools only (calculations, trait searches)
# - HYBRID: Both Pinecone + MCP tools (complex queries)
ENABLE_INTELLIGENT_ROUTING=true

# Enable LLM-based classifier fallback for ambiguous queries (true/false)
# When rule-based classifier confidence < threshold, use Claude Haiku for classification
# Cost: ~$0.0001 per classification, Accuracy: 95%+
ENABLE_LLM_CLASSIFIER=true

# Confidence threshold for rule-based classifier (0.0-1.0)
# If rule-based confidence < threshold, fallback to LLM classifier
# Lower = more LLM usage (accurate but costly)
# Higher = more rule-based (fast but less accurate)
# Recommended: 0.85
CLASSIFIER_CONFIDENCE_THRESHOLD=0.85

# ==================== C++ ENGINE CONFIGURATION ====================
# The C++ engines provide high-performance genetic calculations.
# These paths work AUTOMATICALLY - no configuration needed in most cases!
#
# AUTOMATIC PATH DETECTION:
# The backend automatically finds C++ binaries at:
#   ../zygotrix_engine_cpp/build/<binary_name>
#
# OPTIONAL OVERRIDES:
# Only set these if you need custom paths (e.g., different install location)
#
# CPP_ENGINE_CLI_PATH=/custom/path/to/zyg_cross_cli
# CPP_PROTEIN_CLI_PATH=/custom/path/to/zyg_protein_cli
# CPP_PARALLEL_DNA_CLI_PATH=/custom/path/to/zyg_parallel_dna_cli
# CPP_GWAS_CLI_PATH=/custom/path/to/zyg_gwas_cli

# Enable/disable C++ engine for Mendelian calculations (true/false)
# When false, falls back to Python implementation (slower)
USE_CPP_ENGINE=true

# Threshold for using parallel DNA generation (in base pairs)
# Sequences larger than this use the parallel C++ generator
PARALLEL_DNA_THRESHOLD=1000000

# ==================== PRODUCTION C++ ENGINE SETUP ====================
# On a fresh production server, build the C++ engines:
#
# 1. Install dependencies:
#    sudo apt install cmake build-essential libeigen3-dev
#
# 2. Build the engines:
#    cd zygotrix_engine_cpp
#    cmake -B build -S . -DCMAKE_BUILD_TYPE=Release
#    cmake --build build
#
# 3. Verify:
#    ls build/zyg_*.exe  # Windows
#    ls build/zyg_*      # Linux
#
# No environment variables needed - paths are auto-detected!